---
title: "Google Tag Manager"
description: "Set up Google Tag Manager to track customer behaviour, conversions, and analytics across your event shop."
---

## Overview

Google Tag Manager (GTM) allows you to add tracking and analytics scripts to your event shop without modifying code. Once configured, the platform automatically loads your GTM container and pushes a comprehensive set of data layer events — including page views, basket activity, and purchases — giving you full visibility into the customer journey.

## Setting Up GTM

To configure Google Tag Manager:

1. Navigate to **Marketing** settings in the admin panel
2. Enter your GTM container ID (e.g. `GTM-XXXXXXX`) in the **Google tag manager code** field
3. Save your changes

Your GTM container is loaded on all pages of your event shop.

<Warning>
It is your responsibility to inform customers about the analytics cookies you collect for tracking purposes. If you are using the cookie banner, update your cookie page content to reflect the tracking you have configured. You may not receive data if users opt out of optional analytics cookies.
</Warning>

<Note>
Tag triggers must be set to initialisation during setup to ensure they fire correctly.
</Note>

## Cookie Consent and GTM

By default, GTM scripts are only loaded when a customer has consented to analytics cookies:

| Region | Behaviour |
|--------|-----------|
| **GDPR countries** | GTM loads only after the customer explicitly opts in to all cookies |
| **Other regions** | GTM loads unless the customer explicitly opts out |

### Advanced Consent Mode

If your company has **GTM Advanced Consent Mode** enabled, GTM is loaded on your site regardless of the customer's cookie consent status. This allows Google's consent mode to handle consent signals directly within GTM rather than blocking the script entirely.

When Advanced Consent Mode is active, the platform sends consent signals to GTM:

- **Granted** — when the customer has opted in to analytics cookies
- **Denied** — when the customer has not opted in

This allows GTM to operate in a limited, cookieless mode when consent is denied, while enabling full tracking when consent is granted.

<Note>
Advanced Consent Mode is a feature that must be enabled for your company. When enabled, a note appears in your settings: **Your company has Advanced Consent Mode enabled**.
</Note>

## Content Security Policy (CSP)

For security, all third-party scripts loaded by GTM are blocked by default unless they are explicitly allowed. If your GTM container loads third-party scripts (analytics providers, advertising pixels, etc.), you must add their domains to your CSP allowlist:

1. Navigate to **Cookie** settings in the admin panel
2. Find the **CSP URLs** section
3. Enter the URL(s) of trusted scripts loaded by your GTM container

Without adding these URLs, scripts loaded through GTM will fail silently due to the content security policy.

## Data Layer Events

The platform automatically pushes the following events to the `dataLayer` for use in your GTM triggers:

### Customer Journey Events

| Event | When It Fires |
|-------|---------------|
| `page_view` | Customer visits a page |
| `login` | Customer logs in |
| `sign_up` | Customer creates an account |
| `logout` | Customer logs out |
| `share` | Customer uses a share button |

### Shopping Events

| Event | When It Fires |
|-------|---------------|
| `add_to_cart` | Item added to basket |
| `remove_from_cart` | Item removed from basket |
| `view_cart` | Customer views their basket |
| `begin_checkout` | Customer starts checkout |
| `add_shipping_info` | Customer enters delivery details |
| `purchase` | Order completed successfully |
| `refund` | Customer receives a refund |
| `expire` | Basket expires due to inactivity |

### Other Events

| Event | When It Fires |
|-------|---------------|
| `select_promotion` | Customer applies a discount code |
| `purchase_error` | An error occurs during checkout |

These events follow Google's recommended e-commerce event schema, making them compatible with Google Analytics 4 and other tools configured through GTM.

## Iframe Considerations

If your shop is embedded in an iframe on an external site, GTM and tracking pixels may not fire all events or may fail to initialise. This is due to browser cross-site tracking restrictions. For full tracking reliability, host your shop on its own domain rather than embedding it in an iframe.

## Admin Panel GTM

A separate GTM container can be configured for the admin panel. This is managed at the company level with three options:

| Option | Behaviour |
|--------|-----------|
| **Inherit from [reseller]** | Uses the reseller's admin GTM code |
| **Set custom code** | Uses a GTM container ID specific to this company |
| **Disable** | No GTM is loaded in the admin panel |

Admin panel GTM always loads regardless of cookie consent, as the admin panel is not a public-facing customer site.
